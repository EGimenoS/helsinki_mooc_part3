(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),u=t.n(c),o=(t(5),t(2)),l=function(e){var n=e.person,t=e.removeContact;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," ",n.name," - ",n.number," ",r.a.createElement("button",{onClick:function(){return t(n)}},"Delete")))},m=function(e){var n=e.persons,t=e.showNames,a=e.removeContact;return r.a.createElement(r.a.Fragment,null,n.map(function(e){return Object.assign(e,{nameToSearch:e.name.toLowerCase()})}).filter(function(e){return e.nameToSearch.includes(t.toLowerCase())}).map(function(e){return r.a.createElement(l,{key:e.name,person:e,removeContact:a})}))},i=function(e){var n=e.showNames,t=e.handleSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Filter by Name")," ",r.a.createElement("input",{value:n,onChange:t,type:"text"}))},s=function(e){var n=e.addContact,t=e.newName,a=e.handleChangeName,c=e.newNumber,u=e.handleChangeNumber;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:c,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},f=t(3),d=t.n(f),h="http://localhost:3001/api/persons",b=function(){return d.a.get(h).then(function(e){return e.data})},p=function(e){return d.a.post(h,e).then(function(e){return e.data})},v=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},E=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:n.type},n.message)},g=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),l=Object(o.a)(u,2),f=l[0],d=l[1],h=Object(a.useState)(""),g=Object(o.a)(h,2),w=g[0],C=g[1],N=Object(a.useState)(""),j=Object(o.a)(N,2),O=j[0],y=j[1],S=Object(a.useState)(null),k=Object(o.a)(S,2),F=k[0],T=k[1];Object(a.useEffect)(function(){b().then(function(e){return c(e)})},[]);return r.a.createElement("div",null,r.a.createElement(E,{message:F}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement("div",null,r.a.createElement(i,{handleSearch:function(e){y(e.target.value)},showNames:O})),r.a.createElement("h3",null,"Add a new Contact"),r.a.createElement(s,{addContact:function(e){var n;(e.preventDefault(),n=f,t.some(function(e){return e.name===n}))?alert("".concat(f," is already in the Phonebook")):p({name:f,number:w}).then(function(e){c(t.concat(e)),d(""),C("");var n="added ".concat(e.name);T({message:n,type:"success"}),setTimeout(function(){T(null)},5e3)})},handleChangeName:function(e){d(e.target.value)},handleChangeNumber:function(e){C(e.target.value)},newName:f,newNumber:w}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{persons:t,showNames:O,removeContact:function(e){window.confirm("Delete ".concat(e.name,"?"))&&v(e.id).then(function(n){console.log(n),c(t.filter(function(n){return n.id!==e.id}))}).catch(function(n){var a="".concat(e.name," has been previously removed!");T({message:a,type:"error"}),setTimeout(function(){T(null)},5e3),c(t.filter(function(n){return n.id!==e.id}))})}}))};u.a.render(r.a.createElement(g,null),document.getElementById("root"))},5:function(e,n,t){}},[[15,1,2]]]);
//# sourceMappingURL=main.71afb82d.chunk.js.map